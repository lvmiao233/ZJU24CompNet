---
sidebar_position: 3
title: 功能与设备使用介绍
---

## 1 功能介绍

### 1.1 GNS3 主界面

  ![1728918158936](img\1728918158936.jpg)

  * 项目创建/打开/快照：创建/打开项目/对项目当前状态做快照，在后续出现问题时可快速回到上一快照状态

  * 启动/暂停/关机/重启设备：对全部设备状态进行操作，请慎用以免丢失数据

  * 标注工具：用于在拓扑图上进行标注

  * 画布空间：锁定画布阻止手滑移动设备/缩放画布/对画布截图

  * 设备列表：展示可用设备，从中拖动到画布上即可添加相应设备

  * 线路连接工具：可在设备间连接以太网线/串口线

### 1.2 设备管理菜单（对设备右键）

  ![image-20241014231540666](img\image-20241014231540666.png)

### 1.3 设备线路管理

* 连接设备

  点击左侧线路连接工具，分别点击要连接的两个设备，并选择要使用的端口

  ![image-20241014232046882](img\image-20241014232046882.png)

* 断开连接

  右键点击线路，选择删除

  ![image-20241014231912736](img\image-20241014231912736.png)

## 2 可模拟的网络设备

### 2.1 网络云

  从虚拟PC列表中，拖出`Cloud`设备，使用线路连接工具可将网络设备与虚拟机内的虚拟网卡连接

  ![image-20241014232251332](img\image-20241014232251332.png)

  显示的网络连接即为[配置的3个虚拟网络适配器](https://zjucomp.net/docs/GNS3/VM-VMware#3-%E9%85%8D%E7%BD%AEgns3%E8%99%9A%E6%8B%9F%E6%9C%BA)，根据你的配置，网卡编号与网络模式的对应关系可能不同，请以实际为准

  * 仅主机模式（默认eth0）：此时路由器仅能与物理机上的软件通信， 如不同虚拟机间互相访问
  * NAT模式（默认eth1）：VMWare Workstation提供NAT，将物理机IP与虚拟机内设备私有IP进行转换
  * 桥接模式（默认eth2）：镜像物理机的网络，此时虚拟机内设备可与宿主机设备以平等的方式独立访问外部网络，外部视角下虚拟机内设备与宿主机同时存在

### 2.2 二层交换机

  从交换机列表中，拖出`Ethernet Switch`设备

  ![image-20241014233102052](img\image-20241014233102052.png)

  该交换机功能较为简单，仅能进行简单的VLAN设置，可对每个端口指定其VLAN及端口模式（dot1q→Trunk），也可根据需求增加端口数量

### 2.3 ATM交换机

  从交换机列表中，拖出`ATM Switch`设备

  ![image-20241014233538803](img\image-20241014233538803.png)

  该ATM交换机功能较为简单，仅支持简易的隧道设置，可设置隧道

  一个隧道由一对源和目标构成，每个源或目标各由Port、VPI和VCI三部分构成，其中Port表示交换机的物理端口，可与路由器进行连接；VPI表示虚拟路径ID（Virtual Path  Identifier）， VCI 表示虚拟信道ID（Virtual Channel Identifier）

  一个虚拟路径中可以包含多个虚拟信道，VPI+VCI唯一表示一条虚电路。

### 2.4 Frame Relay交换机

  从交换机列表中，拖出`Frame Relay Switch`设备

  ![image-20241014234026218](img\image-20241014234026218.png)

  该Frame Relay交换机功能较为简单，仅支持简易的数据链路设置，可以设置数据链路

  一个数据链路由一对源和目标构成，每个源或目标各由Port、DLCI两部分构成，其中Port表示交换机的物理端口，可与路由器进行连接；在Frame Relay中，DLCI表示数据链路连接标识（Data Link Connection Identifier）

  数据链路一旦建立，路由器或其他交换机就可以连接Frame Relay交换机的端口了，根据需要，可以建立多条数据链路，一个物理Port可以创建多条具有不同DLCI的数据链路，然后利用子接口进行配置，例如下图中R1连接Port1，可以创建2条数据链路连接R2、R3，分别为1:101-10:202, 1:102-11:203

  ![image-20241014234359233](img\image-20241014234359233.png)

## 3 运行配置管理

:::warning 警告
路由器的配置分为运行配置与启动配置，所有的修改都直接作用于运行配置，而设备启动时会将启动配置加载为运行配置，因此未经`write`写入的运行配置，在对设备或GNS3 VM关机/重启后均会**完全丢失**，请确保运行中时常进行配置的保存与快照的创建，以免误操作损失前序步骤成果
:::

保存配置时，你可以采用的方式有：

* 右键设备，选择导出配置，导出`.cfg`格式的启动+运行配置
* 右键设备，选择编辑配置，选择启动或运行配置，复制并保存

导入配置时，你可以采用的方式有：

* 右键设备，选择导入配置，导入`.cfg`格式的配置文件
* 右键设备，选择编辑配置，选择启动或运行配置，粘贴后保存